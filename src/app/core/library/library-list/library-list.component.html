<h1>Biblioteca</h1>

<!-- Tabla de libros -->
<p-table [value]="books" [paginator]="true" [rows]="5" selectionMode="single" [(selection)]="selectedBook">
  <ng-template pTemplate="header">
    <tr>
      <th>Título</th>
      <th>Autor</th>
      <th>Editorial</th>
      <th>Categoría</th>
      <th>Año</th>
      <th>Acciones</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-book>
    <tr>
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.editorial }}</td>
      <td>{{ book.category }}</td>
      <td>{{ book.year }}</td>
      <td>
        <!-- Botón de detalles -->
        <button pButton type="button" icon="pi pi-eye" class="p-button-rounded p-button-info" (click)="viewDetails(book)"></button>
        
        <!-- Botón de descargar -->
        <button pButton type="button" icon="pi pi-download" class="p-button-rounded p-button-success" (click)="downloadBook(book)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<!-- Cuadro de diálogo con detalles del libro -->
<p-dialog header="Detalles del Libro" [(visible)]="dialogVisible" [modal]="true" [closable]="true" [resizable]="false">
  <div *ngIf="selectedBook">
    <p><strong>Título:</strong> {{ selectedBook.title }}</p>
    <p><strong>Autor:</strong> {{ selectedBook.author }}</p>
    <p><strong>Editorial:</strong> {{ selectedBook.editorial }}</p>
    <p><strong>Categoría:</strong> {{ selectedBook.category }}</p>
    <p><strong>Año:</strong> {{ selectedBook.year }}</p>
    <p><strong>Descripción:</strong> {{ selectedBook.description }}</p>
  </div>
</p-dialog>

<!-- Botón que llama a la función getToken() cuando se hace clic -->
<button pButton label="Probar token" type="button" severity="success" (click)="getToken()"></button>

